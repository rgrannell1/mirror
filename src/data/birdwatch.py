from typing import Iterator
from src.constants import URN_PREFIX, KnownRelations, KnownTypes
from src.data.types import SemanticTriple


BW_ENDPOINT = "https://birdwatchireland.ie/birds"


class BirdwatchUrlReader:
    """Hard-coded URN => Birdwatch URLs"""

    # LLM-populated, so probably a few mismatches...
    DATA = [
        ["sterna-dougallii", f"{BW_ENDPOINT}/arctic-tern"],
        ["puffinus-mauretanicus", f"{BW_ENDPOINT}/balearic-shearwater"],
        ["limosa-lapponica", f"{BW_ENDPOINT}/bar-tailed-godwit"],
        ["tyto-alba", f"{BW_ENDPOINT}/barn-owl"],
        ["branta-leucopsis", f"{BW_ENDPOINT}/barnacle-goose"],
        ["anser-fabalis", f"{BW_ENDPOINT}/bean-goose"],
        ["cygnus-columbianus", f"{BW_ENDPOINT}/bewicks-swan"],
        ["branta-bernicla", f"{BW_ENDPOINT}/black-brant"],
        ["cepphus-grylle", f"{BW_ENDPOINT}/black-guillemot"],
        ["chroicocephalus-ridibundus", f"{BW_ENDPOINT}/black-headed-gull"],
        ["rissa-tridactyla", f"{BW_ENDPOINT}/black-legged-kittiwake"],
        ["podiceps-nigricollis", f"{BW_ENDPOINT}/black-necked-grebe"],
        ["phoenicurus-ochruros", f"{BW_ENDPOINT}/black-redstart"],
        ["limosa-limosa", f"{BW_ENDPOINT}/black-tailed-godwit"],
        ["gavia-arctica", f"{BW_ENDPOINT}/black-throated-diver"],
        ["turdus-merula", f"{BW_ENDPOINT}/blackbird"],
        ["sylvia-atricapilla", f"{BW_ENDPOINT}/blackcap"],
        ["cyanistes-caeruleus", f"{BW_ENDPOINT}/blue-tit"],
        ["fringilla-montifringilla", f"{BW_ENDPOINT}/brambling"],
        ["branta-bernicla", f"{BW_ENDPOINT}/brent-goose-dark-bellied"],
        ["branta-bernicla", f"{BW_ENDPOINT}/brent-goose-light-bellied"],
        ["calidris-subruficollis", f"{BW_ENDPOINT}/buff-breasted-sandpiper"],
        ["pyrrhula-pyrrhula", f"{BW_ENDPOINT}/bullfinch"],
        ["buteo-buteo", f"{BW_ENDPOINT}/buzzard"],
        ["branta-canadensis", f"{BW_ENDPOINT}/canada-goose"],
        ["bubulcus-ibis", f"{BW_ENDPOINT}/cattle-egret"],
        ["fringilla-coelebs", f"{BW_ENDPOINT}/chaffinch"],
        ["phylloscopus-collybita", f"{BW_ENDPOINT}/chiffchaff"],
        ["pyrrhocorax-pyrrhocorax", f"{BW_ENDPOINT}/chough"],
        ["periparus-ater", f"{BW_ENDPOINT}/coal-tit"],
        ["streptopelia-decaocto", f"{BW_ENDPOINT}/collared-dove"],
        ["larus-canus", f"{BW_ENDPOINT}/common-gull"],
        ["phoenicurus-phoenicurus", f"{BW_ENDPOINT}/common-redstart"],
        ["actitis-hypoleucos", f"{BW_ENDPOINT}/common-sandpiper"],
        ["melanitta-nigra", f"{BW_ENDPOINT}/common-scoter"],
        ["sterna-hirundo", f"{BW_ENDPOINT}/common-tern"],
        ["sylvia-communis", f"{BW_ENDPOINT}/common-whitethroat"],
        ["fulica-atra", f"{BW_ENDPOINT}/coot"],
        ["phalacrocorax-carbo", f"{BW_ENDPOINT}/cormorant"],
        ["emberiza-calandra", f"{BW_ENDPOINT}/corn-bunting"],
        ["crex-crex", f"{BW_ENDPOINT}/corncrake"],
        ["calonectris-diomedea", f"{BW_ENDPOINT}/corys-shearwater"],
        ["loxia-curvirostra", f"{BW_ENDPOINT}/crossbill"],
        ["cuculus-canorus", f"{BW_ENDPOINT}/cuckoo"],
        ["calidris-ferruginea", f"{BW_ENDPOINT}/curlew-sandpiper"],
        ["numenius-arquata", f"{BW_ENDPOINT}/curlew"],
        ["cinclus-cinclus", f"{BW_ENDPOINT}/dipper"],
        ["calidris-alpina", f"{BW_ENDPOINT}/dunlin"],
        ["prunella-modularis", f"{BW_ENDPOINT}/dunnock"],
        ["somateria-mollissima", f"{BW_ENDPOINT}/eider"],
        ["gulosus-aristotelis", f"{BW_ENDPOINT}/european-shag"],
        ["columba-livia", f"{BW_ENDPOINT}/feral-pigeon"],
        ["turdus-pilaris", f"{BW_ENDPOINT}/fieldfare"],
        ["regulus-ignicapilla", f"{BW_ENDPOINT}/firecrest"],
        ["fulmarus-glacialis", f"{BW_ENDPOINT}/fulmar"],
        ["mareca-strepera", f"{BW_ENDPOINT}/gadwall"],
        ["morus-bassanus", f"{BW_ENDPOINT}/gannet"],
        ["sylvia-borin", f"{BW_ENDPOINT}/garden-warbler"],
        ["spatula-querquedula", f"{BW_ENDPOINT}/garganey"],
        ["larus-hyperboreus", f"{BW_ENDPOINT}/glaucous-gull"],
        ["regulus-regulus", f"{BW_ENDPOINT}/goldcrest"],
        ["aquila-chrysaetos", f"{BW_ENDPOINT}/golden-eagle"],
        ["pluvialis-apricaria", f"{BW_ENDPOINT}/golden-plover"],
        ["bucephala-clangula", f"{BW_ENDPOINT}/goldeneye"],
        ["carduelis-carduelis", f"{BW_ENDPOINT}/goldfinch"],
        ["mergus-merganser", f"{BW_ENDPOINT}/goosander"],
        ["accipiter-gentilis", f"{BW_ENDPOINT}/goshawk"],
        ["locustella-naevia", f"{BW_ENDPOINT}/grasshopper-warbler"],
        ["larus-marinus", f"{BW_ENDPOINT}/great-black-backed-gull"],
        ["podiceps-cristatus", f"{BW_ENDPOINT}/great-crested-grebe"],
        ["gavia-immer", f"{BW_ENDPOINT}/great-northern-diver"],
        ["stercorarius-skua", f"{BW_ENDPOINT}/great-skua"],
        ["dendrocopus-major", f"{BW_ENDPOINT}/great-spotted-woodpecker"],
        ["parus-major", f"{BW_ENDPOINT}/great-tit"],
        ["tringa-ochropus", f"{BW_ENDPOINT}/green-sandpiper"],
        ["anas-carolinensis", f"{BW_ENDPOINT}/green-winged-teal"],
        ["chloris-chloris", f"{BW_ENDPOINT}/greenfinch"],
        ["anser-albifrons", f"{BW_ENDPOINT}/greenland-white-fronted-goose"],
        ["tringa-nebularia", f"{BW_ENDPOINT}/greenshank"],
        ["ardea-cinerea", f"{BW_ENDPOINT}/grey-heron"],
        ["perdix-perdix", f"{BW_ENDPOINT}/grey-partridge"],
        ["phalaropus-fulicarius", f"{BW_ENDPOINT}/grey-phalarope"],
        ["pluvialis-squatarola", f"{BW_ENDPOINT}/grey-plover"],
        ["motacilla-cinerea", f"{BW_ENDPOINT}/grey-wagtail"],
        ["anser-anser", f"{BW_ENDPOINT}/greylag-goose"],
        ["uria-aalge", f"{BW_ENDPOINT}/guillemot"],
        ["circus-cyaneus", f"{BW_ENDPOINT}/hen-harrier"],
        ["larus-argentatus", f"{BW_ENDPOINT}/herring-gull"],
        ["corvus-cornix", f"{BW_ENDPOINT}/hooded-crow"],
        ["delichon-urbicum", f"{BW_ENDPOINT}/house-martin"],
        ["passer-domesticus", f"{BW_ENDPOINT}/house-sparrow"],
        ["larus-glaucoides", f"{BW_ENDPOINT}/iceland-gull"],
        ["lymnocryptes-minimus", f"{BW_ENDPOINT}/jack-snipe"],
        ["coloeus-monedula", f"{BW_ENDPOINT}/jackdaw"],
        ["garrulus-glandarius", f"{BW_ENDPOINT}/jay"],
        ["falco-tinnunculus", f"{BW_ENDPOINT}/kestrel"],
        ["alcedo-atthis", f"{BW_ENDPOINT}/kingfisher"],
        ["calidris-canutus", f"{BW_ENDPOINT}/knot"],
        ["vanellus-vanellus", f"{BW_ENDPOINT}/lapwing"],
        ["hydrobates-leucorhous", f"{BW_ENDPOINT}/leachs-petrel"],
        ["larus-fuscus", f"{BW_ENDPOINT}/lesser-black-backed-gull"],
        ["acanthis-cabaret", f"{BW_ENDPOINT}/lesser-redpoll"],
        ["sylvia-curruca", f"{BW_ENDPOINT}/lesser-whitethroat"],
        ["carduelis-cannabina", f"{BW_ENDPOINT}/linnet"],
        ["egretta-garzetta", f"{BW_ENDPOINT}/little-egret"],
        ["tachybaptus-ruficollis", f"{BW_ENDPOINT}/little-grebe"],
        ["hydrocoloeus-minutus", f"{BW_ENDPOINT}/little-gull"],
        ["charadrius-dubius", f"{BW_ENDPOINT}/little-ringed-plover"],
        ["calidris-minuta", f"{BW_ENDPOINT}/little-stint"],
        ["sternula-albifrons", f"{BW_ENDPOINT}/little-tern"],
        ["asio-otus", f"{BW_ENDPOINT}/long-eared-owl"],
        ["clangula-hyemalis", f"{BW_ENDPOINT}/long-tailed-duck"],
        ["aegithalos-caudatus", f"{BW_ENDPOINT}/long-tailed-tit"],
        ["pica-pica", f"{BW_ENDPOINT}/magpie"],
        ["anas-platyrhynchos", f"{BW_ENDPOINT}/mallard"],
        ["puffinus-puffinus", f"{BW_ENDPOINT}/manx-shearwater"],
        ["circus-aeruginosus", f"{BW_ENDPOINT}/marsh-harrier"],
        ["anthus-pratensis", f"{BW_ENDPOINT}/meadow-pipit"],
        ["ichthyaetus-melanocephalus", f"{BW_ENDPOINT}/mediterranean-gull"],
        ["falco-columbarius", f"{BW_ENDPOINT}/merlin"],
        ["turdus-viscivorus", f"{BW_ENDPOINT}/mistle-thrush"],
        ["gallinula-chloropus", f"{BW_ENDPOINT}/moorhen"],
        ["cygnus-olor", f"{BW_ENDPOINT}/mute-swan"],
        ["caprimulgus-europaeus", f"{BW_ENDPOINT}/nightjar"],
        ["haematopus-ostralegus", f"{BW_ENDPOINT}/oystercatcher"],
        ["calidris-melanotos", f"{BW_ENDPOINT}/pectoral-sandpiper"],
        ["falco-peregrinus", f"{BW_ENDPOINT}/peregrine-falcon"],
        ["phasianus-colchicus", f"{BW_ENDPOINT}/pheasant"],
        ["ficedula-hypoleuca", f"{BW_ENDPOINT}/pied-flycatcher"],
        ["motacilla-alba", f"{BW_ENDPOINT}/pied-wagtail"],
        ["anser-brachyrhynchus", f"{BW_ENDPOINT}/pink-footed-goose"],
        ["anas-acuta", f"{BW_ENDPOINT}/pintail"],
        ["aythya-ferina", f"{BW_ENDPOINT}/pochard"],
        ["fratercula-arctica", f"{BW_ENDPOINT}/puffin"],
        ["calidris-maritima", f"{BW_ENDPOINT}/purple-sandpiper"],
        ["coturnix-coturnix", f"{BW_ENDPOINT}/quail"],
        ["corvus-corax", f"{BW_ENDPOINT}/raven"],
        ["alca-torda", f"{BW_ENDPOINT}/razorbill"],
        ["mergus-serrator", f"{BW_ENDPOINT}/red-breasted-merganser"],
        ["lagopus-lagopus", f"{BW_ENDPOINT}/red-grouse"],
        ["milvus-milvus", f"{BW_ENDPOINT}/red-kite"],
        ["alectoris-rufa", f"{BW_ENDPOINT}/red-legged-partridge"],
        ["podiceps-grisegena", f"{BW_ENDPOINT}/red-necked-grebe"],
        ["phalaropus-lobatus", f"{BW_ENDPOINT}/red-necked-phalarope"],
        ["gavia-stellata", f"{BW_ENDPOINT}/red-throated-diver"],
        ["tringa-totanus", f"{BW_ENDPOINT}/redshank"],
        ["turdus-iliacus", f"{BW_ENDPOINT}/redwing"],
        ["emberiza-schoeniclus", f"{BW_ENDPOINT}/reed-bunting"],
        ["acrocephalus-scirpaceus", f"{BW_ENDPOINT}/reed-warbler"],
        ["larus-delawarensis", f"{BW_ENDPOINT}/ring-billed-gull"],
        ["aythya-collaris", f"{BW_ENDPOINT}/ring-necked-duck"],
        ["turdus-torquatus", f"{BW_ENDPOINT}/ring-ouzel"],
        ["charadrius-hiaticula", f"{BW_ENDPOINT}/ringed-plover"],
        ["erithacus-rubecula", f"{BW_ENDPOINT}/robin"],
        ["columba-livia", f"{BW_ENDPOINT}/rock-dove"],
        ["anthus-petrosus", f"{BW_ENDPOINT}/rock-pipit"],
        ["corvus-frugilegus", f"{BW_ENDPOINT}/rook"],
        ["sterna-dougallii", f"{BW_ENDPOINT}/roseate-tern"],
        ["oxyura-jamaicensis", f"{BW_ENDPOINT}/ruddy-duck"],
        ["calidris-pugnax", f"{BW_ENDPOINT}/ruff"],
        ["xema-sabini", f"{BW_ENDPOINT}/sabines-gull"],
        ["riparia-riparia", f"{BW_ENDPOINT}/sand-martin"],
        ["calidris-alba", f"{BW_ENDPOINT}/sanderling"],
        ["thalasseus-sandvicensis", f"{BW_ENDPOINT}/sandwich-tern"],
        ["aythya-marila", f"{BW_ENDPOINT}/scaup"],
        ["acrocephalus-schoenobaenus", f"{BW_ENDPOINT}/sedge-warbler"],
        ["tadorna-tadorna", f"{BW_ENDPOINT}/shelduck"],
        ["asio-flammeus", f"{BW_ENDPOINT}/short-eared-owl"],
        ["spatula-clypeata", f"{BW_ENDPOINT}/shoveler"],
        ["spinus-spinus", f"{BW_ENDPOINT}/siskin"],
        ["alauda-arvensis", f"{BW_ENDPOINT}/skylark"],
        ["podiceps-auritus", f"{BW_ENDPOINT}/slavonian-grebe"],
        ["mergellus-albellus", f"{BW_ENDPOINT}/smew"],
        ["gallinago-gallinago", f"{BW_ENDPOINT}/snipe"],
        ["plectrophenax-nivalis", f"{BW_ENDPOINT}/snow-bunting"],
        ["anser-caerulescens", f"{BW_ENDPOINT}/snow-goose"],
        ["bubo-scandiacus", f"{BW_ENDPOINT}/snowy-owl"],
        ["turdus-philomelos", f"{BW_ENDPOINT}/song-thrush"],
        ["ardenna-grisea", f"{BW_ENDPOINT}/sooty-shearwater"],
        ["accipiter-nisus", f"{BW_ENDPOINT}/sparrowhawk"],
        ["muscicapa-striata", f"{BW_ENDPOINT}/spotted-flycatcher"],
        ["tringa-erythropus", f"{BW_ENDPOINT}/spotted-redshank"],
        ["sturnus-vulgaris", f"{BW_ENDPOINT}/starling"],
        ["columba-oenas", f"{BW_ENDPOINT}/stock-dove"],
        ["saxicola-torquatus", f"{BW_ENDPOINT}/stonechat"],
        ["hydrobates-pelagicus", f"{BW_ENDPOINT}/storm-petrel"],
        ["melanitta-perspicillata", f"{BW_ENDPOINT}/surf-scoter"],
        ["hirundo-rustica", f"{BW_ENDPOINT}/swallow"],
        ["apus-apus", f"{BW_ENDPOINT}/swift"],
        ["anas-crecca", f"{BW_ENDPOINT}/teal"],
        ["passer-montanus", f"{BW_ENDPOINT}/tree-sparrow"],
        ["certhia-familiaris", f"{BW_ENDPOINT}/treecreeper"],
        ["aythya-fuligula", f"{BW_ENDPOINT}/tufted-duck"],
        ["arenaria-interpres", f"{BW_ENDPOINT}/turnstone"],
        ["streptopelia-turtur", f"{BW_ENDPOINT}/turtle-dove"],
        ["linaria-flavirostris", f"{BW_ENDPOINT}/twite"],
        ["melanitta-fusca", f"{BW_ENDPOINT}/velvet-scoter"],
        ["rallus-aquaticus", f"{BW_ENDPOINT}/water-rail"],
        ["bombycilla-garrulus", f"{BW_ENDPOINT}/waxwing"],
        ["oenanthe-oenanthe", f"{BW_ENDPOINT}/wheatear"],
        ["numenius-phaeopus", f"{BW_ENDPOINT}/whimbrel"],
        ["saxicola-rubetra", f"{BW_ENDPOINT}/whinchat"],
        ["haliaeetus-albicilla", f"{BW_ENDPOINT}/white-tailed-eagle"],
        ["cygnus-cygnus", f"{BW_ENDPOINT}/whooper-swan"],
        ["mareca-penelope", f"{BW_ENDPOINT}/wigeon"],
        ["phylloscopus-trochilus", f"{BW_ENDPOINT}/willow-warbler"],
        ["tringa-glareola", f"{BW_ENDPOINT}/wood-sandpiper"],
        ["phylloscopus-sibilatrix", f"{BW_ENDPOINT}/wood-warbler"],
        ["scolopax-rusticola", f"{BW_ENDPOINT}/woodcock"],
        ["columba-palumbus", f"{BW_ENDPOINT}/woodpigeon"],
        ["troglodytes-troglodytes", f"{BW_ENDPOINT}/wren"],
        ["phylloscopus-inornatus", f"{BW_ENDPOINT}/yellow-browed-warbler"],
        ["emberiza-citrinella", f"{BW_ENDPOINT}/yellowhammer"],
    ]

    def read(self, _: "SqliteDatabase") -> Iterator[SemanticTriple]:
        for binomial, url in self.DATA:
            if not binomial:
                continue

            yield SemanticTriple(
                source=f"{URN_PREFIX}{KnownTypes.BIRD}:{binomial}", relation=KnownRelations.BIRDWATCH_URL, target=url
            )
